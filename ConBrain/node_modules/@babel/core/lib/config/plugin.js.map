{"version":3,"names":["finalize","Plugin","key","manipulateOptions","post","pre","visitor","parserOverride","generatorOverride","options","externalDependencies","constructor","plugin","name"],"sources":["../../src/config/plugin.ts"],"sourcesContent":["import { finalize } from \"./helpers/deep-array.ts\";\nimport type { ReadonlyDeepArray } from \"./helpers/deep-array.ts\";\nimport type { PluginObject } from \"./validation/plugins.ts\";\n\nexport default class Plugin {\n  key: string | undefined | null;\n  manipulateOptions?: (options: unknown, parserOpts: unknown) => void;\n  post?: PluginObject[\"post\"];\n  pre?: PluginObject[\"pre\"];\n  visitor: PluginObject[\"visitor\"];\n\n  parserOverride?: Function;\n  generatorOverride?: Function;\n\n  options: {};\n\n  externalDependencies: ReadonlyDeepArray<string>;\n\n  constructor(\n    plugin: PluginObject,\n    options: {},\n    key?: string,\n    externalDependencies: ReadonlyDeepArray<string> = finalize([]),\n  ) {\n    this.key = plugin.name || key;\n\n    this.manipulateOptions = plugin.manipulateOptions;\n    this.post = plugin.post;\n    this.pre = plugin.pre;\n    this.visitor = plugin.visitor || {};\n    this.parserOverride = plugin.parserOverride;\n    this.generatorOverride = plugin.generatorOverride;\n\n    this.options = options;\n    this.externalDependencies = externalDependencies;\n  }\n}\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,yBAAyB;AAIlD,eAAe,MAAMC,MAAM,CAAC;EAC1BC,GAAG;EACHC,iBAAiB;EACjBC,IAAI;EACJC,GAAG;EACHC,OAAO;EAEPC,cAAc;EACdC,iBAAiB;EAEjBC,OAAO;EAEPC,oBAAoB;EAEpBC,WAAWA,CACTC,MAAoB,EACpBH,OAAW,EACXP,GAAY,EACZQ,oBAA+C,GAAGV,QAAQ,CAAC,EAAE,CAAC,EAC9D;IACA,IAAI,CAACE,GAAG,GAAGU,MAAM,CAACC,IAAI,IAAIX,GAAG;IAE7B,IAAI,CAACC,iBAAiB,GAAGS,MAAM,CAACT,iBAAiB;IACjD,IAAI,CAACC,IAAI,GAAGQ,MAAM,CAACR,IAAI;IACvB,IAAI,CAACC,GAAG,GAAGO,MAAM,CAACP,GAAG;IACrB,IAAI,CAACC,OAAO,GAAGM,MAAM,CAACN,OAAO,IAAI,CAAC,CAAC;IACnC,IAAI,CAACC,cAAc,GAAGK,MAAM,CAACL,cAAc;IAC3C,IAAI,CAACC,iBAAiB,GAAGI,MAAM,CAACJ,iBAAiB;IAEjD,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,oBAAoB,GAAGA,oBAAoB;EAClD;AACF"}